import{d as I,u as P,H as M,p as R,r as p,c as F,C,f as U,a as d,b as t,I as $,e as q,i as a,t as i,q as u,z as v,E as S,F as B,l as E,n as O,D as G,_ as H,o as l}from"./index-BG-UUOg-.js";const Q={class:"p-6 space-y-6"},z={class:"card"},J={class:"space-y-4"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"bg-bg-tertiary rounded-lg p-4"},W={class:"font-mono"},X={class:"bg-bg-tertiary rounded-lg p-4"},Z={class:"font-mono text-sm truncate"},tt={class:"bg-bg-tertiary rounded-lg p-4"},et={class:"font-semibold"},st={class:"bg-bg-tertiary rounded-lg p-4"},ot={class:"font-semibold"},nt={class:"card"},it={class:"space-y-4"},lt={class:"flex items-center justify-between py-2 border-b border-border"},dt={class:"flex items-center justify-between py-2 border-b border-border"},at={class:"flex items-center justify-between py-2 border-b border-border"},rt={class:"flex items-center gap-2"},ut=["disabled"],ct={class:"flex items-center justify-between py-2 border-b border-border"},mt={class:"flex items-center justify-between py-2"},vt={class:"card"},xt={class:"flex items-center justify-between mb-4"},ft={key:0,class:"space-y-2"},bt={class:"flex items-center gap-3"},pt={class:"font-medium"},gt={class:"text-sm text-text-muted"},yt={class:"flex items-center gap-2"},ht=["onClick"],Ct=["onClick"],St=["onClick"],kt=["onClick"],wt={key:1,class:"text-center text-text-muted py-8"},_t={class:"card"},Vt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Nt={class:"bg-bg-tertiary rounded-lg p-4 text-center"},Tt={class:"text-2xl font-bold text-accent"},At=I({__name:"ConfigView",setup(Lt){const c=P(),g=M(),x=R(),k=p("1.0.0"),m=p(!1),f=p(null),y=F(()=>c.serverList),r=C({host:"localhost",port:7687,dbPath:"",maxConnections:100,queryTimeout:3e4}),o=C({theme:"dark",defaultLimit:100,autoRefresh:!0,refreshInterval:30,historyLimit:100,graphPhysics:!0});async function w(){var e;const n=c.activeClient;if(n)try{const s=await((e=n.getConfig)==null?void 0:e.call(n));s!=null&&s.success&&s.data&&Object.assign(r,s.data)}catch(s){console.error("Failed to load server config:",s)}}function _(){const n=localStorage.getItem("nexus-settings");if(n)try{Object.assign(o,JSON.parse(n))}catch(e){console.error("Failed to parse settings:",e)}o.theme=g.theme}function V(){localStorage.setItem("nexus-settings",JSON.stringify(o)),x.success("Settings saved","Your preferences have been saved")}function N(){(o.theme==="dark"||o.theme==="light")&&g.setTheme(o.theme)}async function T(n){await c.connect(n)}async function L(n){await c.disconnect(n)}function j(n){f.value=n,m.value=!0}async function A(n){confirm("Are you sure you want to delete this connection?")&&(await c.removeServer(n),x.success("Connection deleted","The connection has been removed"))}function h(){m.value=!1,f.value=null}function D(){h(),x.success("Connection saved","The connection has been saved")}return U(()=>{w(),_()}),(n,e)=>(l(),d("div",Q,[t("div",z,[e[11]||(e[11]=t("h3",{class:"text-lg font-semibold mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-server text-info"}),a(" Server Configuration ")],-1)),t("div",J,[t("div",Y,[t("div",K,[e[7]||(e[7]=t("div",{class:"text-sm text-text-secondary mb-1"},"Server Address",-1)),t("div",W,i(r.host)+":"+i(r.port),1)]),t("div",X,[e[8]||(e[8]=t("div",{class:"text-sm text-text-secondary mb-1"},"Database Path",-1)),t("div",Z,i(r.dbPath||"N/A"),1)]),t("div",tt,[e[9]||(e[9]=t("div",{class:"text-sm text-text-secondary mb-1"},"Max Connections",-1)),t("div",et,i(r.maxConnections),1)]),t("div",st,[e[10]||(e[10]=t("div",{class:"text-sm text-text-secondary mb-1"},"Query Timeout",-1)),t("div",ot,i(r.queryTimeout)+"ms",1)])])])]),t("div",nt,[e[22]||(e[22]=t("h3",{class:"text-lg font-semibold mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-cog text-accent"}),a(" Application Settings ")],-1)),t("div",it,[t("div",lt,[e[13]||(e[13]=t("div",null,[t("div",{class:"font-medium"},"Theme"),t("div",{class:"text-sm text-text-muted"},"Choose your preferred color scheme")],-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.theme=s),class:"input w-32",onChange:N},[...e[12]||(e[12]=[t("option",{value:"dark"},"Dark",-1),t("option",{value:"light"},"Light",-1),t("option",{value:"system"},"System",-1)])],544),[[v,o.theme]])]),t("div",dt,[e[15]||(e[15]=t("div",null,[t("div",{class:"font-medium"},"Query Result Limit"),t("div",{class:"text-sm text-text-muted"},"Default LIMIT for queries")],-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.defaultLimit=s),class:"input w-32"},[...e[14]||(e[14]=[t("option",{value:25},"25",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1),t("option",{value:250},"250",-1),t("option",{value:500},"500",-1)])],512),[[v,o.defaultLimit,void 0,{number:!0}]])]),t("div",at,[e[17]||(e[17]=t("div",null,[t("div",{class:"font-medium"},"Auto-refresh Dashboard"),t("div",{class:"text-sm text-text-muted"},"Automatically refresh dashboard stats")],-1)),t("div",rt,[u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.autoRefresh=s),type:"checkbox",class:"rounded bg-bg-tertiary border-border text-accent"},null,512),[[S,o.autoRefresh]]),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.refreshInterval=s),class:"input w-24",disabled:!o.autoRefresh},[...e[16]||(e[16]=[t("option",{value:10},"10s",-1),t("option",{value:30},"30s",-1),t("option",{value:60},"60s",-1)])],8,ut),[[v,o.refreshInterval,void 0,{number:!0}]])])]),t("div",ct,[e[19]||(e[19]=t("div",null,[t("div",{class:"font-medium"},"Query History"),t("div",{class:"text-sm text-text-muted"},"Number of queries to keep in history")],-1)),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.historyLimit=s),class:"input w-32"},[...e[18]||(e[18]=[t("option",{value:50},"50",-1),t("option",{value:100},"100",-1),t("option",{value:200},"200",-1),t("option",{value:500},"500",-1)])],512),[[v,o.historyLimit,void 0,{number:!0}]])]),t("div",mt,[e[20]||(e[20]=t("div",null,[t("div",{class:"font-medium"},"Graph Physics"),t("div",{class:"text-sm text-text-muted"},"Enable physics simulation in graph view")],-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.graphPhysics=s),type:"checkbox",class:"rounded bg-bg-tertiary border-border text-accent"},null,512),[[S,o.graphPhysics]])])]),t("div",{class:"flex justify-end mt-6"},[t("button",{onClick:V,class:"btn btn-primary"},[...e[21]||(e[21]=[t("i",{class:"fas fa-save mr-1"},null,-1),a(" Save Settings ",-1)])])])]),t("div",vt,[t("div",xt,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold flex items-center gap-2"},[t("i",{class:"fas fa-plug text-success"}),a(" Saved Connections ")],-1)),t("button",{onClick:e[6]||(e[6]=s=>m.value=!0),class:"btn btn-primary text-xs"},[...e[23]||(e[23]=[t("i",{class:"fas fa-plus mr-1"},null,-1),a(" Add Connection ",-1)])])]),y.value.length>0?(l(),d("div",ft,[(l(!0),d(B,null,E(y.value,s=>(l(),d("div",{key:s.id,class:"flex items-center justify-between p-3 bg-bg-tertiary rounded-lg"},[t("div",bt,[t("span",{class:O(["w-3 h-3 rounded-full",s.status==="connected"?"bg-success":"bg-text-muted"])},null,2),t("div",null,[t("div",pt,i(s.name),1),t("div",gt,i(s.host||s.url)+i(s.port?":"+s.port:""),1)])]),t("div",yt,[s.status!=="connected"?(l(),d("button",{key:0,onClick:b=>T(s.id),class:"btn btn-secondary text-xs"}," Connect ",8,ht)):(l(),d("button",{key:1,onClick:b=>L(s.id),class:"btn btn-secondary text-xs"}," Disconnect ",8,Ct)),t("button",{onClick:b=>j(s),class:"p-1 text-text-muted hover:text-text-primary"},[...e[25]||(e[25]=[t("i",{class:"fas fa-edit"},null,-1)])],8,St),t("button",{onClick:b=>A(s.id),class:"p-1 text-text-muted hover:text-error"},[...e[26]||(e[26]=[t("i",{class:"fas fa-trash"},null,-1)])],8,kt)])]))),128))])):(l(),d("div",wt,[...e[27]||(e[27]=[t("i",{class:"fas fa-plug text-2xl mb-2"},null,-1),t("p",null,"No saved connections",-1)])]))]),t("div",_t,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-info-circle text-warning"}),a(" About Nexus ")],-1)),t("div",Vt,[t("div",Nt,[t("div",Tt,i(k.value),1),e[28]||(e[28]=t("div",{class:"text-sm text-text-muted"},"Version",-1))]),e[29]||(e[29]=G('<div class="bg-bg-tertiary rounded-lg p-4 text-center"><div class="text-2xl font-bold text-info">Rust</div><div class="text-sm text-text-muted">Backend</div></div><div class="bg-bg-tertiary rounded-lg p-4 text-center"><div class="text-2xl font-bold text-success">Vue 3</div><div class="text-sm text-text-muted">Frontend</div></div><div class="bg-bg-tertiary rounded-lg p-4 text-center"><div class="text-2xl font-bold text-warning">Electron</div><div class="text-sm text-text-muted">Platform</div></div>',3))]),e[31]||(e[31]=t("div",{class:"mt-4 text-center text-text-muted text-sm"},[t("p",null,"Nexus Graph Database - A high-performance graph database with Cypher support"),t("p",{class:"mt-1"},[t("a",{href:"https://github.com/your-repo/nexus",class:"text-accent hover:underline",target:"_blank"},[t("i",{class:"fab fa-github mr-1"}),a(" GitHub Repository ")])])],-1))]),m.value?(l(),$(H,{key:0,"editing-server":f.value,onClose:h,onSaved:D},null,8,["editing-server"])):q("",!0)]))}});export{At as default};
