# Tasks - Advanced Features

## 1. FOREACH Clause
- [ ] 1.1 Add ForeachClause to parser
- [ ] 1.2 Implement iteration over lists
- [ ] 1.3 Support SET/DELETE in FOREACH
- [ ] 1.4 Add tests

## 2. EXISTS Subqueries
- [ ] 2.1 Add EXISTS to WHERE parsing
- [ ] 2.2 Implement existential pattern checks
- [ ] 2.3 Optimize with planner
- [ ] 2.4 Add tests

## 3. CASE Expressions
- [ ] 3.1 Add CaseExpression to AST
- [ ] 3.2 Implement simple CASE
- [ ] 3.3 Implement generic CASE
- [ ] 3.4 Add tests

## 4. Map Projections
- [ ] 4.1 Add MapProjection to AST
- [ ] 4.2 Implement property selection
- [ ] 4.3 Support virtual keys
- [ ] 4.4 Add tests

## 5. List Comprehensions
- [ ] 5.1 Add ListComprehension to AST
- [ ] 5.2 Implement filtering
- [ ] 5.3 Implement transformation
- [ ] 5.4 Add tests

## 6. Pattern Comprehensions
- [ ] 6.1 Add PatternComprehension to AST
- [ ] 6.2 Implement pattern collection
- [ ] 6.3 Add tests

## 7. Quality
- [ ] 7.1 95%+ coverage
- [ ] 7.2 No clippy warnings
- [ ] 7.3 Update documentation
